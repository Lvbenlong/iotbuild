(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a16da82"],{3813:function(t,e,a){},"546e":function(t,e,a){"use strict";var n=a("be27"),i=a.n(n);i.a},5568:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iotTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},t._l(t.tableHeader,function(e,n){return"slot"!==e.type?a("el-table-column",{key:n,attrs:{prop:e.prop,width:e.width,label:e.label}}):a("el-table-column",{key:n,attrs:{width:e.width||150,label:e.label},scopedSlots:t._u([{key:"default",fn:function(a){return[t._t("col-"+e.prop,null,{row:a.row,index:a.$index})]}}],null,!0)})}),1),t.showPage?a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.pagination.page,"page-sizes":[10,20,50,100],"page-size":t.pagination.per_page,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1):t._e()],1)},i=[],r={name:"IotTable",props:{tableData:{type:Array,required:!0},tableHeader:{type:Array,required:!0},loading:{type:Boolean,required:!1},pagination:{type:Object,required:!1},hidepagination:{type:Boolean,required:!1,default:!1}},data:function(){return{}},computed:{showPage:function(){return!this.hidepagination&&!!this.pagination}},methods:{handleSizeChange:function(t){this.pagination.per_page=t,this.$emit("reloaddata")},handleCurrentChange:function(t){console.log(t),this.pagination.page=t,this.$emit("reloaddata")}}},o=r,s=(a("c18f"),a("2877")),l=Object(s["a"])(o,n,i,!1,null,"d6bd296c",null);e["a"]=l.exports},8593:function(t,e,a){"use strict";a.d(e,"f",function(){return o}),a.d(e,"d",function(){return s}),a.d(e,"b",function(){return l}),a.d(e,"e",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"g",function(){return p}),a.d(e,"a",function(){return d}),a.d(e,"h",function(){return f});var n=a("8897"),i=a("751a"),r=a("72bb");function o(t){return i["a"].get("".concat(n["a"].baseUrl,"/v2/companies"),t)}function s(){return i["a"].get("".concat(n["a"].baseUrl,"/v2/roles"))}function l(t){return i["a"].del("".concat(n["a"].baseUrl,"/v2/role/").concat(t))}function c(t){return i["a"].get("".concat(n["a"].baseUrl,"/v2/members?page=").concat(t.page||1,"&per_page=").concat(t.per_page||10),t)}function u(t,e){return i["a"].del("".concat(n["a"].baseUrl,"/v3/member?mid=")+t+"&verify_code="+e)}function p(t){return i["a"].get("".concat(n["a"].baseUrl,"/v2/operations"),t)}function d(t){return i["a"].post("".concat(n["a"].baseUrl,"/v2/company/logo/custom"),t)}function f(t){return i["a"].post("".concat(n["a"].baseUrl,"/v2/imei/mac/excel"),t,{headers:{"X-API-TOKEN":Object(r["a"])(n["a"].token)}})}},9486:function(t,e,a){"use strict";var n=a("3813"),i=a.n(n);i.a},9763:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account"},[a("p",{staticClass:"htitle"},[a("span",{class:{active:1===t.nowshow},on:{click:function(e){return t.handleSet(1)}}},[t._v("账号与密码")]),a("span",{class:{active:2===t.nowshow},on:{click:function(e){return t.handleSet(2)}}},[t._v("待审批账号")])]),1===t.nowshow?a("account"):a("approval-wait")],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"org"},[a("div",{staticClass:"data1"},[a("div",{staticClass:"selects"},[a("div",{staticClass:"select-titles"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"},[t._v("用户名")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"})])],1)],1),a("div",{staticClass:"select-content"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item selsct-common"},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.queryFilter.mid,callback:function(e){t.$set(t.queryFilter,"mid",e)},expression:"queryFilter.mid"}})],1)]),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"blue",attrs:{type:"primary"},on:{click:t.initData}},[t._v("查询")])],1)],1)],1)]),a("div",{staticClass:"table-data"},[a("iot-table",{attrs:{tableHeader:t.tableHeader,tableData:t.tableData,pagination:t.pagination,loading:t.loading},on:{reloaddata:t.initData},scopedSlots:t._u([{key:"col-province",fn:function(e){return a("div",{},[a("p",[t._v(t._s(e.row.province||"")+t._s(e.row.city||"")+t._s(e.row.county||"")+t._s(e.row.village||""))])])}},{key:"col-confirm",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row.mid)}}},[a("span",{staticClass:"iconfont iconshanchu"})])],1)}}])})],1)])])},o=[],s=(a("96cf"),a("3b8d")),l=a("8593"),c=a("5568"),u=a("3389"),p={name:"Permission",components:{iotTable:c["a"]},data:function(){return{loading:!1,queryFilter:{mid:""},type:[{code:"",name:"全部"},{code:"HQ",name:"总代"},{code:"CH",name:"代理商"}],pagination:{page:1,per_page:10,total:0},tableData:[],tableHeader:[{prop:"mid",label:"用户名"},{prop:"province",label:"代理地区",type:"slot"},{prop:"company",label:"所属单位"},{prop:"role_name",label:"角色"},{prop:"confirm",label:"操作",type:"slot"}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e={mid:this.queryFilter.mid?this.queryFilter.mid:void 0,status:0,page:this.pagination.page,per_page:this.pagination.per_page},t.prev=2,t.next=5,Object(l["e"])(e);case 5:a=t.sent,n=a.data,this.tableData=n.items,this.pagination={total:n.page_info.total,page:n.page_info.page,per_page:n.page_info.per_page},this.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),this.loading=!1,u["a"].error("查询数据失败",u["a"].findErrorMsg(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,12]])}));function e(){return t.apply(this,arguments)}return e}(),handleDelete:function(t){u["a"].confirmuser("确定删除用户？",t,"删除后用户将无法登陆系统",function(e){Object(l["c"])(t,e).then(function(e){200===e.status?u["a"].info("删除用户".concat(t,"成功")):u["a"].error("删除失败",e.msg)},function(t){u["a"].error("删除失败",u["a"].findErrorMsg(t))})})}}},d=p,f=(a("9486"),a("2877")),m=Object(f["a"])(d,r,o,!1,null,"5c249af8",null),g=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"org"},[a("div",{staticClass:"data1"},[a("div",{staticClass:"selects"},[a("div",{staticClass:"select-titles"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"},[t._v("用户名")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"})])],1)],1),a("div",{staticClass:"select-content"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item selsct-common"},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:t.queryFilter.mid,callback:function(e){t.$set(t.queryFilter,"mid",e)},expression:"queryFilter.mid"}})],1)]),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"blue",attrs:{type:"primary"},on:{click:t.handleSearch}},[t._v("查询")])],1)],1)],1)]),a("div",{staticClass:"table-data"},[a("iot-table",{attrs:{tableHeader:t.tableHeader,tableData:t.tableData,pagination:t.pagination,loading:t.loading},on:{reloaddata:t.initData},scopedSlots:t._u([{key:"col-province",fn:function(e){return a("div",{},[a("p",[t._v(t._s(e.row.province||"")+t._s(e.row.city||"")+t._s(e.row.county||"")+t._s(e.row.village||""))])])}},{key:"col-confirm",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row.mid)}}},[a("span",{staticClass:"iconfont iconshanchu"})])],1)}}])})],1)])])},b=[],v={name:"Permission",components:{iotTable:c["a"]},data:function(){return{loading:!1,queryFilter:{mid:""},pagination:{page:1,per_page:10,total:0},tableData:[],tableHeader:[{prop:"mid",label:"用户名"},{prop:"province",label:"代理地区",type:"slot"},{prop:"company",label:"所属单位"},{prop:"role_name",label:"角色"},{prop:"name",label:"使用人姓名"},{prop:"phone",label:"联系方式"},{prop:"apply_reason",label:"申请缘由"},{prop:"create_user",label:"创建人"},{prop:"memo",label:"备注"},{prop:"confirm",label:"操作",type:"slot"}]}},mounted:function(){this.initData()},methods:{initData:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,e={mid:this.queryFilter.mid?this.queryFilter.mid:void 0,status:1,page:this.pagination.page,per_page:this.pagination.per_page},t.prev=2,t.next=5,Object(l["e"])(e);case 5:a=t.sent,n=a.data,this.tableData=n.items,this.pagination={total:n.page_info.total,page:n.page_info.page,per_page:n.page_info.per_page},this.loading=!1,t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](2),this.loading=!1,u["a"].error("查询数据失败",u["a"].findErrorMsg(t.t0));case 16:case"end":return t.stop()}},t,this,[[2,12]])}));function e(){return t.apply(this,arguments)}return e}(),handleSearch:function(){""!==this.queryFilter.mid?this.initData():u["a"].error("查询条件不能为空")},handleDelete:function(t){u["a"].confirmuser("确定删除用户？",t,"删除后用户将无法登陆系统",function(e){Object(l["c"])(t,e).then(function(e){200===e.status?u["a"].info("删除用户".concat(t,"成功")):u["a"].error("删除失败",e.msg)},function(t){u["a"].error("删除失败",u["a"].findErrorMsg(t))})})}}},_=v,y=(a("546e"),Object(f["a"])(_,h,b,!1,null,"7e89de62",null)),w=y.exports,C={name:"Permission",components:{account:g,approvalWait:w},data:function(){return{nowshow:1}},mounted:function(){},methods:{handleSet:function(t){this.nowshow=t}}},k=C,D=(a("b3fb"),Object(f["a"])(k,n,i,!1,null,"10f3df04",null));e["default"]=D.exports},"9f84":function(t,e,a){},b3fb:function(t,e,a){"use strict";var n=a("dde2"),i=a.n(n);i.a},be27:function(t,e,a){},c18f:function(t,e,a){"use strict";var n=a("9f84"),i=a.n(n);i.a},dde2:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6a16da82.80b155d4.js.map