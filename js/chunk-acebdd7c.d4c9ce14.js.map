{"version":3,"sources":["webpack:///./src/components/iotTable.vue?61f8","webpack:///src/components/iotTable.vue","webpack:///./src/components/iotTable.vue?11ea","webpack:///./src/components/iotTable.vue","webpack:///./src/api/system.js","webpack:///./src/views/system/equipment.vue?bda0","webpack:///./src/components/iotTable.vue?b310","webpack:///./src/components/titleHeader.vue?02c2","webpack:///src/components/titleHeader.vue","webpack:///./src/components/titleHeader.vue?ec33","webpack:///./src/components/titleHeader.vue","webpack:///./src/components/titleHeader.vue?e0a3","webpack:///./src/views/system/equipment.vue?4d2a","webpack:///src/views/system/equipment.vue","webpack:///./src/views/system/equipment.vue?1d36","webpack:///./src/views/system/equipment.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","staticStyle","attrs","tableData","_l","item","index","type","key","prop","width","label","scopedSlots","_u","fn","scope","_t","row","$index","pagination","page","per_page","total","on","handleSizeChange","handleCurrentChange","_e","staticRenderFns","props","Array","required","tableHeader","loading","Boolean","Object","hidepagination","default","data","computed","showPage","methods","val","$emit","console","log","component","getAuthlist","query","http","get","constant","baseUrl","findList","del","code","findUsers","params","delUsernew","mid","verifycode","operations","customInfo","post","subescel","headers","getItem","token","_v","_s","title","wb","opennbeqment","download","inputfileclick","model","callback","$$v","queryNBType","display","$event","importf","nbeqments","length","detalnbeqment","subnbeqment","nbeqment","domProps","target","composing","$set","closenbeqment","addnbeqment","rABS","components","TitleHeader","iotTable","NBTypes","keys","k","xlsx","nbsTotal","shownews","mac","imei","imsi","window","location","href","splice","inputfile","document","getElementById","click","maccs","imeics","imsics","test","filterMac","filter","option","filterImei","msgUtil","newngeqment","push","_role","generateRole","device_type","resp","status","forList","tosub","i","tosubxx","nbeqmentss","j","splitLoad","nb_type","SplitArray","that","data_","dataArrays","splitMax","retArray","obj","files","f","reader","FileReader","onload","e","result","XLSX","read","btoa","fixdata","_this","concat","utils","sheet_to_json","Sheets","SheetNames","readAsArrayBuffer","readAsBinaryString"],"mappings":"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","file":"js/chunk-acebdd7c.d4c9ce14.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iotTable\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},_vm._l((_vm.tableHeader),function(item,index){return (item.type !== 'slot')?_c('el-table-column',{key:index,attrs:{\"prop\":item.prop,\"width\":item.width,\"label\":item.label}}):_c('el-table-column',{key:index,attrs:{\"width\":item.width || 150,\"label\":item.label},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._t('col-' + item.prop,null,{\"row\":scope.row,\"index\":scope.$index})]}}],null,true)})}),1),(_vm.showPage)?_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.page,\"page-sizes\":[10,20,50,100],\"page-size\":_vm.pagination.per_page,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Description: 封装的table组件\n * @Author: benlong\n * @Date: 2019-09-12 21:37:46\n -->\n<template>\n  <div class=\"iotTable\">\n    <el-table :data=\"tableData\" style=\"width: 100%\" v-loading=\"loading\">\n      <el-table-column v-for=\"(item, index) in tableHeader\" :key=\"index\" v-if=\"item.type !== 'slot'\"  :prop=\"item.prop\" :width=\"item.width\" :label=\"item.label\"/>\n      <el-table-column :width=\"item.width || 150\" :label=\"item.label\" :key=\"index\" v-else>\n        <template slot-scope=\"scope\">\n          <slot :name=\"'col-' + item.prop\" :row=\"scope.row\" :index=\"scope.$index\"></slot>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination-container\" v-if=\"showPage\">\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pagination.page\"\n        :page-sizes=\"[10,20,50,100]\"\n        :page-size=\"pagination.per_page\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"pagination.total\">\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'IotTable',\n  props: {\n    tableData: {\n      type: Array,\n      required: true\n    },\n    tableHeader: {\n      type: Array,\n      required: true\n    },\n    loading: {\n      type: Boolean,\n      required: false\n      // default: true\n    },\n    pagination: {\n      type: Object,\n      required: false\n    },\n    hidepagination: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  data() {\n    return {\n\n    }\n  },\n  computed: {\n    showPage() {\n      return !this.hidepagination && !!this.pagination\n    }\n  },\n  methods: {\n    // 当前直接修改父组件的pagenation数据, 还可以通过emeit让父组件自己去修改自己的paginationshuju,但是父组件都需要多些两个方法\n    // handleSizeChange(val) {\n    //   this.$emit('pageSizeChange', val)\n    // },\n    // handleCurrentChange(val) {\n    //   this.$emit('currentPageChange', val)\n    // }\n    handleSizeChange(val) {\n      this.pagination.per_page = val\n      this.$emit('reloaddata')\n    },\n    handleCurrentChange(val) {\n      console.log(val)\n      this.pagination.page = val\n      this.$emit('reloaddata')\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .iotTable{\n    // width: 100%;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iotTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iotTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./iotTable.vue?vue&type=template&id=d6bd296c&scoped=true&\"\nimport script from \"./iotTable.vue?vue&type=script&lang=js&\"\nexport * from \"./iotTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./iotTable.vue?vue&type=style&index=0&id=d6bd296c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d6bd296c\",\n  null\n  \n)\n\nexport default component.exports","/*\n * @Description: 系统设置相关api\n * @Author: benlong\n * @Date: 2019-09-08 21:18:31\n */\nimport constant from '@/common/constant'\nimport http from '@/utils/http'\nimport { getItem } from '@/utils/funcs'\n\nexport function getAuthlist(query) {\n  return http.get(`${constant.baseUrl}/v2/companies`, query)\n}\n\nexport function findList() {\n  return http.get(`${constant.baseUrl}/v2/roles`)\n}\n\n\nexport function del(code) {\n  return http.del(`${constant.baseUrl}/v2/role/${code}`)\n}\n\nexport function findUsers(params) {\n  return http.get(`${constant.baseUrl}/v2/members?page=${params.page || 1}&per_page=${params.per_page || 10}`, params)\n}\n\n\nexport function delUsernew(mid, verifycode) {\n  return http.del(`${constant.baseUrl}/v3/member?mid=` + mid + `&verify_code=` + verifycode)\n}\n\nexport function operations(params) {\n  return http.get(`${constant.baseUrl}/v2/operations`, params)\n}\n\nexport function customInfo(params) {\n  return http.post(`${constant.baseUrl}/v2/company/logo/custom`, params)\n}\n\n\nexport function subescel(data) {\n  return http.post(`${constant.baseUrl}/v2/imei/mac/excel`, data, {\n    headers: { 'X-API-TOKEN': getItem(constant.token) }\n  })\n}\n\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=style&index=0&id=709711fb&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=style&index=0&id=709711fb&lang=less&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iotTable.vue?vue&type=style&index=0&id=d6bd296c&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./iotTable.vue?vue&type=style&index=0&id=d6bd296c&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"titleHeader\"},[_c('h3',[_vm._v(_vm._s(_vm.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Description: 页面一级标题组件\n * @Author: benlong\n * @Date: 2019-09-08 13:57:21\n -->\n<template>\n  <div class=\"titleHeader\">\n    <h3>{{title}}</h3>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TitleHeader',\n  props: ['title'],\n  data() {\n    return {\n\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .titleHeader{\n    h3 {\n      height: 35px;\n      padding-left: 42px;\n      font-size: 18px;\n      color: rgba(21,159,232,1);\n      background-color: rgba(16,159,214,0.4);\n      line-height: 35px;\n      border: 0.5px solid rgba(21,159,232,1);\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./titleHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./titleHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./titleHeader.vue?vue&type=template&id=2b873fd4&scoped=true&\"\nimport script from \"./titleHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./titleHeader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./titleHeader.vue?vue&type=style&index=0&id=2b873fd4&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b873fd4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./titleHeader.vue?vue&type=style&index=0&id=2b873fd4&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./titleHeader.vue?vue&type=style&index=0&id=2b873fd4&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"equipment\"},[_c('title-header',{attrs:{\"title\":\"批量导入NB设备\"}}),_c('div',{staticClass:\"tools\"},[_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":15}},[_c('el-button',{staticClass:\"blue\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.opennbeqment}},[_vm._v(\"新增设备\")]),_c('el-button',{staticClass:\"blue\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.download}},[_vm._v(\"下载EXCEL模板\")]),(_vm.xlsx)?_c('el-button',{staticClass:\"blue\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.inputfileclick}},[_vm._v(\"导入EXCEL\")]):_vm._e(),_c('el-select',{staticClass:\"ml10 e-selects\",attrs:{\"placeholder\":\"请选择设备类型\"},model:{value:(_vm.queryNBType),callback:function ($$v) {_vm.queryNBType=$$v},expression:\"queryNBType\"}},_vm._l((_vm.NBTypes),function(item){return _c('el-option',{key:item.display,attrs:{\"label\":item.display,\"value\":item}})}),1)],1)],1)],1),_c('input',{staticClass:\"inputfile\",attrs:{\"type\":\"file\",\"id\":\"inputfile\"},on:{\"change\":function($event){return _vm.importf($event)}}}),(_vm.nbeqments.length>0)?_c('div',{staticClass:\"exceldata\"},[_c('iot-table',{attrs:{\"tableHeader\":_vm.tableHeader,\"tableData\":_vm.nbeqments},scopedSlots:_vm._u([{key:\"col-confirm\",fn:function(scope){return _c('div',{},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.detalnbeqment(scope.index)}}},[_vm._v(\"删除\")])],1)}}],null,false,1161048758)}),_c('div',{staticClass:\"mt10\"},[_c('el-button',{staticClass:\"blue\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.subnbeqment}},[_vm._v(\"提交\")])],1)],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shownews),expression:\"shownews\"}],attrs:{\"id\":\"neweqment\"}},[_c('div',{staticClass:\"pop-content\"},[_c('p',{staticClass:\"popup-title\"},[_vm._v(\"\\n          新增设备\\n        \")]),_c('div',{staticClass:\"popup-con\"},[_c('ul',[_c('li',{},[_c('span',[_vm._v(\"MAC：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nbeqment.mac),expression:\"nbeqment.mac\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入设备MAC号码\"},domProps:{\"value\":(_vm.nbeqment.mac)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.nbeqment, \"mac\", $event.target.value)}}}),_c('small',{staticStyle:{\"display\":\"none\"}},[_vm._v(\"*请输入正确的设备MAC号码\")])]),_c('li',{},[_c('span',[_vm._v(\"IMEI：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nbeqment.imei),expression:\"nbeqment.imei\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入设备IMEI号码\"},domProps:{\"value\":(_vm.nbeqment.imei)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.nbeqment, \"imei\", $event.target.value)}}}),_c('small',{staticStyle:{\"display\":\"none\"}},[_vm._v(\"*请输入正确的设备IMEI号码\")])]),_c('li',{},[_c('span',[_vm._v(\"IMSI：\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nbeqment.imsi),expression:\"nbeqment.imsi\"}],attrs:{\"type\":\"text\",\"placeholder\":\"请输入设备IMSI号码\"},domProps:{\"value\":(_vm.nbeqment.imsi)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.nbeqment, \"imsi\", $event.target.value)}}}),_c('small',{staticStyle:{\"display\":\"none\"}},[_vm._v(\"*请输入正确的设备IMSI号码\")])]),_c('li',[_c('button',{staticClass:\"btn btn-middle cancel\",on:{\"click\":_vm.closenbeqment}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-middle yes\",on:{\"click\":_vm.addnbeqment}},[_vm._v(\"确定\")])])])]),_c('span',{staticClass:\"layui-layer-setwin\"},[_c('a',{staticClass:\"close-popup layui-layer-close layui-layer-close1\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.closenbeqment}},[_c('span',{staticClass:\"iconfont iconguanbi close-iconfont\"})])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Description:批量导入NB设备\n * @Author: benlong\n * @Date: 2019-09-04 22:25:47\n -->\n<template>\n  <div class=\"equipment\">\n    <title-header title=\"批量导入NB设备\"></title-header>\n    <div class=\"tools\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"15\">\n          <el-button class=\"blue\" type=\"primary\" @click=\"opennbeqment\">新增设备</el-button>\n          <el-button class=\"blue\" type=\"primary\" @click=\"download\">下载EXCEL模板</el-button>\n          <el-button class=\"blue\" type=\"primary\" @click=\"inputfileclick\" v-if=\"xlsx\">导入EXCEL</el-button>\n          <el-select v-model=\"queryNBType\" class=\"ml10 e-selects\" placeholder=\"请选择设备类型\">\n            <el-option\n              v-for=\"item in NBTypes\"\n              :key=\"item.display\"\n              :label=\"item.display\"\n              :value=\"item\">\n            </el-option>\n          </el-select>\n        </el-col>\n      </el-row>\n    </div>\n    <input type=\"file\" @change=\"importf($event)\" class=\"inputfile\" id=\"inputfile\"/>\n\n    <div class=\"exceldata\" v-if=\"nbeqments.length>0\">\n      <iot-table\n        :tableHeader=\"tableHeader\"\n        :tableData=\"nbeqments\"\n      >\n        <div slot=\"col-confirm\" slot-scope=\"scope\">\n          <el-button @click=\"detalnbeqment(scope.index)\" type=\"text\" size=\"small\">删除</el-button>\n        </div>\n      </iot-table>\n      <div class=\"mt10\">\n        <el-button class=\"blue\" type=\"primary\" @click=\"subnbeqment\">提交</el-button>\n      </div>\n    </div>\n    <div id=\"neweqment\" v-show=\"shownews\">\n      <div class=\"pop-content\">\n          <p class=\"popup-title\">\n            新增设备\n          </p>\n          <div class=\"popup-con\">\n            <ul>\n              <li class=\"\">\n                <span>MAC：</span> <input type=\"text\" v-model=\"nbeqment.mac\" placeholder=\"请输入设备MAC号码\">\n                <small style=\"display: none;\">*请输入正确的设备MAC号码</small>\n              </li>\n              <li class=\"\">\n                <span>IMEI：</span> <input type=\"text\" v-model=\"nbeqment.imei\" placeholder=\"请输入设备IMEI号码\">\n                <small style=\"display: none;\">*请输入正确的设备IMEI号码</small>\n              </li>\n              <li class=\"\">\n                <span>IMSI：</span> <input type=\"text\" v-model=\"nbeqment.imsi\" placeholder=\"请输入设备IMSI号码\">\n                <small style=\"display: none;\">*请输入正确的设备IMSI号码</small>\n              </li>\n              <li>\n                <button class=\"btn btn-middle cancel\" @click=\"closenbeqment\">取消</button>\n                <button class=\"btn btn-middle yes\" @click=\"addnbeqment\">确定</button>\n              </li>\n            </ul>\n          </div>\n          <span class=\"layui-layer-setwin\">\n            <a href=\"javascript:;\" class=\"close-popup layui-layer-close layui-layer-close1\" @click=\"closenbeqment\">\n            <span class=\"iconfont iconguanbi close-iconfont\"></span>\n            </a>\n          </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport TitleHeader from '@/components/titleHeader'\nimport constant from '@/common/constant'\nimport msgUtil from '@/utils/msgUtil'\nimport iotTable from '@/components/iotTable'\nimport { subescel } from '@/api/system'\n\nvar wb;// 读取完成的数据\nvar rABS = false; // 是否将文件读取为二进制字符串\n\nexport default {\n  name: 'Equipment',\n  components: {\n    TitleHeader,\n    iotTable\n  },\n  data() {\n    return {\n      queryNBType: '',\n      nbeqments: [],\n      NBTypes: Object.keys(constant.NBType).map(k => {\n        return {\n          code: k,\n          display: constant.NBType[k]\n        }\n      }),\n      xlsx: true,\n      index: 0,\n      nbsTotal: 1000,\n      shownews: false,\n      nbeqment: {\n        mac: '',\n        imei: '',\n        imsi: ''\n      },\n      pagination: {\n        page: 1,\n        per_page: 10,\n        total: 0\n      },\n      tableHeader: [\n        { prop: 'mac', label: 'MAC' },\n        { prop: 'imei', label: 'IMEI' },\n        { prop: 'imsi', label: 'IMSI' },\n        { prop: 'confirm', label: '操作', type: 'slot' }\n      ]\n    }\n  },\n  methods: {\n    download() {\n      window.location.href = 'http://91mogo.com/download/mac-imei.xlsx'\n    },\n    opennbeqment() {\n      this.shownews = true\n      this.nbeqment.mac = ''\n      this.nbeqment.imei = '';\n    },\n    detalnbeqment(index) {\n      this.nbeqments.splice(index, 1)\n    },\n    inputfileclick() {\n      var inputfile = document.getElementById('inputfile');\n      inputfile.click()\n    },\n    closenbeqment() {\n      this.shownews = false\n    },\n    addnbeqment() {\n      // 检查 mac imei值\n      const { mac, imei, imsi } = this.nbeqment;\n      var maccs = /^[D|d][A-Fa-f0-9]{11}$/;\n      var imeics = /^[0-9]{15}$/;\n      var imsics = /^[0-9]{15}$/;\n      if (!maccs.test(mac)) {\n        msgUtil.error('请输入正确格式的mac值')\n        return;\n      }\n      if (!imeics.test(imei)) {\n        msgUtil.error('请输入正确格式的imei值')\n        return;\n      }\n      if (!imsics.test(imsi)) {\n        msgUtil.error('请输入正确格式的imsi值')\n        return;\n      }\n      var filterMac = this.nbeqments.length && this.nbeqments.filter((option, index) => {\n        return option.mac == mac;\n      });\n      var filterImei = this.nbeqments.length && this.nbeqments.filter((option, index) => {\n        return option.imei == imei;\n      });\n      if (filterMac.length > 0) {\n        msgUtil.error('请输入唯一的mac值');\n        return;\n      }\n      if (filterImei.length > 0) {\n        msgUtil.error('请输入唯一的imei值');\n        return;\n      }\n      var newngeqment = { 'mac': mac, 'imei': imei, 'imsi': imsi };\n      this.nbeqments.push(newngeqment);\n      this.shownews = false\n    },\n    subnbeqment() {\n      if (this.nbeqments.length <= this.nbsTotal) {\n        var _role = this.generateRole();\n        if (!_role.device_type) {\n          msgUtil.error('请选择设备类型！')\n          return;\n        }\n        subescel(_role).then(resp => {\n          if (resp.status == 200) {\n            msgUtil.success('请求成功', resp.data)\n            this.nbeqments = [];\n          }\n        }, error => {\n          msgUtil.error('保存失败', msgUtil.findErrorMsg(error))\n        })\n      } else {\n        this.forList()\n      }\n    },\n\n    forList() {\n      var tosub = this.generateRole()\n      for (var i = this.index; i < tosub.length; i++) {\n        var tosubxx = tosub[i]\n        var nbeqmentss = []\n        for (var j = 0; j < tosubxx.length; j++) {\n          if (j == 0) {\n            nbeqmentss = \"'\" + tosubxx[j].imei + \"':'\" + tosubxx[j].mac + \"'\";\n          } else {\n            nbeqmentss = nbeqmentss + ',' + \"'\" + tosubxx[j].imei + \"':'\" + tosubxx[j].mac + \"'\";\n          }\n        }\n        nbeqmentss = '{' + nbeqmentss + '}'\n        if (this.index > tosubxx.length) {\n\n          return\n        }\n        if (this.index == tosub.length) {\n          return;\n        }\n        this.splitLoad(nbeqmentss)\n        break;\n      }\n    },\n\n    generateRole() {\n      var nbeqmentss = []\n      for (var i = 0; i < this.nbeqments.length; i++) {\n        nbeqmentss.push({ mac: this.nbeqments[i].mac + '', imei: this.nbeqments[i].imei + '', imsi: this.nbeqments[i].imei + '' })\n      }\n      const nb_type = this.queryNBType && this.queryNBType.code;\n      if (this.nbeqments.length <= this.nbsTotal) {\n        return {\n          data: nbeqmentss,\n          device_type: nb_type\n        }\n      }\n      return this.SplitArray(this.nbsTotal, this.nbeqments)\n    },\n    splitLoad(data_) {\n      const { code } = this.queryNBType;\n      if (!code) {\n        msgUtil.error('请选择设备类型！')\n        return;\n      }\n      var that = this;\n      subescel({\n        data: data_,\n        // device_type:Number(code)\n        device_type: code\n      }).then(resp => {\n        if (resp.status == 200) {\n          msgUtil.success('请求成功', resp.data)\n          that.index++;\n          that.forList()\n        }\n      }, error => {\n        msgUtil.error('保存失败', msgUtil.findErrorMsg(error))\n      })\n    },\n    SplitArray(splitMax, dataArrays) {\n      const retArray = [];\n      while (dataArrays.length > splitMax) {\n        retArray.push(dataArrays.splice(0, splitMax));\n      }\n      if (dataArrays.length > 0) {\n        retArray.push(dataArrays);\n      }\n      return retArray;\n    },\n    importf(obj) { // 导入\n      const _this = this\n      if (!obj.target.files) {\n        return;\n      }\n      var f = obj.target.files[0];\n      var reader = new FileReader();\n      reader.onload = function(e) {\n        var data = e.target.result;\n        if (rABS) {\n          wb = XLSX.read(btoa(fixdata(data)), {// 手动转化\n            type: 'base64'\n          });\n        } else {\n          wb = XLSX.read(data, {\n            type: 'binary'\n          });\n        }\n        _this.nbeqments = _this.nbeqments.concat(XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]))\n        _this.xlsx = false\n      };\n      if (rABS) {\n        reader.readAsArrayBuffer(f);\n      } else {\n        reader.readAsBinaryString(f);\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n  .equipment{\n  }\n  .e-selects {\n    width: 200px;\n  }\n  .tools {\n    margin-top: 20px;\n    padding-left: 15px;\n  }\n  .exceldata {\n    margin-top: 20px;\n  }\n  #neweqment{\n    display: block;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.35);\n    margin: auto;\n    z-index: 9999;\n  }\n  #neweqment .pop-content{\n    position: fixed;\n    height: 392px;\n    width: 600px;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #fff;\n    border-radius: 6px;\n    padding: 0 2px 2px 2px;\n    margin: auto;\n    color: #1e2d38;\n    background: linear-gradient(to right, #109fd6 , #00ffc3);\n}\n\n    .popup-con {\n      display: flex;\n      flex: 1;\n      background-color: #0b2244;\n      padding: 40px 0 30px 60px;\n      color: #82bedc;\n    }\n\n    .popup-title {\n      text-align: center;\n      border: none;\n    }\n  #neweqment li {\n    margin-bottom: 12px;\n    margin-top: 10px;\n    text-align: center;\n    position: relative;\n}\n  #neweqment li span{\n    display: inline-block;\n    width: 72px;\n    margin-right: 15px;\n    text-align: left;\n    vertical-align: middle;\n}\n  #neweqment li input {\n    width: 280px;\n    height: 40px;\n    margin-bottom: 10px;\n    border: 1px solid #109fd6;\n    color: #ffffff;\n}\n  #neweqment li .btn {\n    margin-top: 20px;\n    background: #fff;\n    border: 1px solid #00D9A6;\n    color: #00D9A6;\n}\n  #neweqment li .cancel:hover {\n    -webkit-box-shadow: 0 2px 8px rgba(0, 217, 166, 0.3);\n    box-shadow: 0 2px 8px rgba(0, 217, 166, 0.3);\n}\n  #neweqment li .yes {\n    background: #00D9A6;\n    color: #fff;\n    margin-left: 20px;\n}\n  #neweqment li .yes:hover {\n    -webkit-box-shadow: 0 2px 10px rgba(0, 217, 166, 0.5);\n    box-shadow: 0 2px 10px rgba(0, 217, 166, 0.5);\n    background: #00cc9c;\n}\n  #neweqment .layui-layer-setwin, #make_order .popup-schedule .layui-layer-setwin {\n    position: absolute;\n    right: 20px !important;\n    top: 16px !important;\n}\n.inputfile {\n        width: 123px;\n        height: 36px;\n        display: none\n    }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./equipment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./equipment.vue?vue&type=template&id=709711fb&scoped=true&\"\nimport script from \"./equipment.vue?vue&type=script&lang=js&\"\nexport * from \"./equipment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./equipment.vue?vue&type=style&index=0&id=709711fb&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"709711fb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}