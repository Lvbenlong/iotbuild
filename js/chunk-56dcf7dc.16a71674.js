(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56dcf7dc"],{"019d":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-header"},[t._v("\n  "+t._s(t.title)+"\n")])},r=[],i={name:"MainHeader",props:["title"],data:function(){return{}}},s=i,o=(e("0844"),e("2877")),c=Object(o["a"])(s,n,r,!1,null,"6a97591c",null);a["a"]=c.exports},"0844":function(t,a,e){"use strict";var n=e("704e"),r=e.n(n);r.a},1990:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"data-center"},[e("div",{staticClass:"area-one"},[e("div",{staticClass:"left"},[e("div",{staticClass:"common-box mb15"},[e("macro-data",{attrs:{macroData:t.macroData}})],1),e("div",{staticClass:"common-box"},[e("main-header",{attrs:{title:"探测器分布"}}),t._m(0)],1)]),e("div",{staticClass:"map"},[t._v("\n      map\n    ")]),e("div",{staticClass:"left"},[e("div",{staticClass:"danger common-box mb15"},[e("main-header",{attrs:{title:"隐患统计"}}),e("div",{staticClass:"box-content"},[e("p",{staticClass:"sub"},[t._v("今日报警总数 "),e("span",[t._v(t._s(t.dangerStat.todayTotal)+"件")])]),e("div",{staticClass:"chart-yh",attrs:{id:"danger_stat_chart"}})])],1),e("div",{staticClass:"common-box"},[e("main-header",{attrs:{title:"报警统计"}}),t._m(1)],1)])]),e("div",{staticClass:"area-two"},[e("div",{staticClass:"part part1"},[e("sub-header",{attrs:{title:"今日派工状况"}}),e("p",{staticClass:"tips"},[t._v("\n        今日报警总计 "),e("span",{staticClass:"text-green"},[t._v(t._s(t.orderStat.alarm_total))]),t._v(" 件，\n        发送隐患通知单 "),e("span",{staticClass:"text-green"},[t._v(t._s(t.orderStat.notice_total))]),t._v(" 件，\n        确认派工 "),e("span",{staticClass:"text-green"},[t._v(t._s(t.orderStat.task_total))]),t._v("件\n      ")]),t._m(2)],1),e("div",{staticClass:"part"},[e("sub-header",{attrs:{title:"探测器报警比例"}})],1),e("div",{staticClass:"part"},[e("sub-header",{attrs:{title:"累计隐患排名TOP5"}}),e("div",{attrs:{id:"draw_danger_top5"}})],1),e("div",{staticClass:"part"},[e("sub-header",{attrs:{title:"今日隐患比例"}}),e("div",{attrs:{id:"draw_hidden_danger"}})],1),e("div",{staticClass:"part"},[e("sub-header",{attrs:{title:"今日警务"}}),e("div",{attrs:{id:"draw_today_jw"}})],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]},[e("loading")],1)])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-content"},[e("div",{staticClass:"h100",attrs:{id:"device_heat_map"}}),e("div",{staticClass:"loading1"},[e("div",{staticClass:"loadingqq1"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-content"},[e("div",{attrs:{id:"main"}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"box-items"},[e("div",{staticClass:"box-item"},[t._v("报警")]),e("div",{staticClass:"box-item"},[t._v("通知")]),e("div",{staticClass:"box-item"},[t._v("派工")])])}],i=(e("ac6a"),e("96cf"),e("3b8d")),s=e("9f2d"),o=e("019d"),c=e("88ed"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"macro-data"},[e("main-header",{attrs:{title:"宏观数据"}}),e("div",{staticClass:"box-content con"},[e("div",{staticClass:"line1 spaceline"},[e("div",{staticClass:"item"},[e("p",{staticClass:"name"},[t._v("智能烟感")]),e("p",{staticClass:"rate"},[t._v(t._s(t.macroData.smoke))]),e("p",{staticClass:"cir"},[t._v(t._s(t.macroData.smoke_this_mon))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"name"},[t._v("消防水压")]),e("p",{staticClass:"rate"},[t._v(t._s(t.macroData.wp))]),e("p",{staticClass:"cir"},[t._v(t._s(t.macroData.wp_this_mon))])])]),e("div",{staticClass:"line2"},[e("p",{staticClass:"name"},[t._v("电气火灾")]),e("p",{staticClass:"rate"},[t._v(t._s(t.macroData.ef))]),e("p",{staticClass:"cir"},[t._v(t._s(t.macroData.ef_this_mon))])]),e("div",{staticClass:"line3 spaceline"},[e("div",{staticClass:"item"},[e("p",{staticClass:"name"},[t._v("智能燃气")]),e("p",{staticClass:"rate"},[t._v(t._s(t.macroData.gas))]),e("p",{staticClass:"cir"},[t._v(t._s(t.macroData.gas_this_mon))])]),e("div",{staticClass:"item"},[e("p",{staticClass:"name"},[t._v("消防水位")]),e("p",{staticClass:"rate"},[t._v(t._s(t.macroData.wl))]),e("p",{staticClass:"cir"},[t._v(t._s(t.macroData.wl_this_mon))])])])])],1)},d=[],u={name:"MacroData",props:["macroData"],components:{MainHeader:o["a"]},data:function(){return{}}},m=u,h=(e("1a9b"),e("2877")),p=Object(h["a"])(m,l,d,!1,null,"a95e1616",null),v=p.exports,f=e("c428"),_=e("3389"),b={name:"DataCenter",mounted:function(){this.initTroubleStat(),this.drawChart(),this.drawDangerTop5(),this.drawHiddenDanger(),this.drawTodayJw(),this.drawTodayJw(),this.initMacroDataChart()},components:{MainHeader:o["a"],MacroData:v,SubHeader:c["a"],Loading:f["a"]},data:function(){return{loading:!1,orderStat:{alarm_total:0,notice_total:0,task_total:0,alarms:[],notices:[],tasks:[]},macroData:{smoke:"",smoke_this_mon:"",wp:"",wp_this_mon:"",ef:"",ef_this_mon:"",gas:"",gas_this_mon:"",wl:"",wl_this_mon:""},dangerStat:{todayTotal:0,taskNum:0,top3:[]}}},methods:{initMacroDataChart:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e,n,r,i,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["c"])("newDeviceSummary");case 4:a=t.sent,e=a.data,n=e.filter(function(t){return"智能烟感"===t.device}).pop(),r=e.filter(function(t){return"消防水压"===t.device}).pop(),i=e.filter(function(t){return"电气火灾"===t.device}).pop(),o=e.filter(function(t){return"智能燃气"===t.device}).pop(),c=e.filter(function(t){return"消防水位"===t.device}).pop(),this.macroData={smoke:"".concat((100*n.rate).toFixed(2),"%"),smoke_this_mon:n.this_mon,wp:"".concat((100*r.rate).toFixed(2),"%"),wp_this_mon:r.this_mon,ef:"".concat((100*i.rate).toFixed(2),"%"),ef_this_mon:i.this_mon,gas:"".concat((100*o.rate).toFixed(2),"%"),gas_this_mon:o.this_mon,wl:"".concat((100*c.rate).toFixed(2),"%"),wl_this_mon:c.this_mon},this.loading=!1,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),this.loading=!1,_["a"].error("查询数据失败");case 19:case"end":return t.stop()}},t,this,[[0,15]])}));function a(){return t.apply(this,arguments)}return a}(),initTroubleStat:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:a=this.$echarts.init(document.getElementById("danger_stat_chart")),e={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 件"},legend:{type:"scroll",orient:"vertical",x:"left",top:60,left:0,itemWidth:8,itemHeight:8,textStyle:{color:"#c3d9d4"}},toolbox:{show:!0,feature:{magicType:{type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left"}}}}},calculable:!0,color:["#06615d","#3e3a6a","#0c4568"],series:[{name:"隐患统计",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:30,name:"在办"},{value:26,name:"代办"},{value:26,name:"办结"}],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},itemStyle:{normal:{label:!1,shadowBlur:10,shadowColor:"rgba(19, 142, 206, 0.5)",shadowOffsetX:-3,shadowOffsetY:3,borderWidth:1,borderColor:"#139add"},labelLine:{show:!1}}}]},a.setOption(e);case 3:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),initAlarmStatChart:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e=[{name:"隐患数",data:[]}],t.prev=2,this.loading=!0,t.next=6,Object(s["c"])("alarmByMonth");case 6:n=t.sent,r=n.data,r.forEach(function(t){a.push("".concat(t.label.substring(4)-0,"月")),e[0].data.push(t.amount)}),this.drawChart(a,e[0].data),this.loading=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](2),this.loading=!1,_["a"].error("查询数据失败");case 17:case"end":return t.stop()}},t,this,[[2,13]])}));function a(){return t.apply(this,arguments)}return a}(),initOrderStat:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a,e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["c"])("alarm-notice-task");case 4:a=t.sent,e=a.data,this.orderStat=e,this.loading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](0),this.loading=!1,_["a"].error("查询数据失败");case 14:case"end":return t.stop()}},t,this,[[0,10]])}));function a(){return t.apply(this,arguments)}return a}(),initTroubleYearTopChart:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["c"])("alarmByArea");case 4:a=t.sent,a.data,this.loading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.loading=!1,_["a"].error("查询数据失败");case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function a(){return t.apply(this,arguments)}return a}(),initTroubleTodayChart:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.loading=!0,t.next=4,Object(s["c"])("alarmByPlaceType");case 4:a=t.sent,a.data,this.loading=!1,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.loading=!1,_["a"].error("查询数据失败");case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function a(){return t.apply(this,arguments)}return a}(),drawChart:function(t,a){var e=this.$echarts.init(document.getElementById("main")),n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"value",name:"",axisLabel:{formatter:"{value}"},splitLine:{show:!0,lineStyle:{color:["#82bedc"]}},axisLine:{lineStyle:{color:"#82bedc"}},nameTextStyle:{color:"#14a0e6",verticalAlign:"top"}},yAxis:{type:"category",inverse:!0,data:["8月份","6月份","4月份"],axisLine:{lineStyle:{color:"#82bedc"}}},series:[{name:"项目数量",type:"bar",data:[1,.5,.8],itemStyle:{normal:{color:"#69ccc7"}}}]};e.setOption(n)},drawDangerTop5:function(){var t=this.$echarts.init(document.getElementById("draw_danger_top5")),a={color:["#3398DB"],xAxis:[{type:"category",data:["湖北省"],axisTick:{alignWithLabel:!0},splitLine:{show:!1},axisLine:{lineStyle:{color:"#red"}}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:"#82bedc"}},splitLine:{show:!0,lineStyle:{color:["#82bedc"]}}}],series:[{name:"直接访问",type:"bar",barWidth:"60%",data:[10],itemStyle:{normal:{color:"#038d7a"}}}]};t.setOption(a)},drawHiddenDanger:function(){var t=this.$echarts.init(document.getElementById("draw_hidden_danger")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} 个"},legend:{orient:"vertical",x:"left",top:40,itemWidth:8,itemHeight:8,textStyle:{color:"#c3d9d4"}},toolbox:{show:!0,feature:{magicType:{type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left"}}}}},calculable:!0,color:["#3e3a6a","#05605c"],series:[{name:"隐患",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:30,name:"重点场所"},{value:20,name:"十小场所"}],label:{normal:{show:!1}},labelLine:{normal:{show:!1}},itemStyle:{normal:{label:!1,shadowBlur:10,shadowColor:"rgba(19, 142, 206, 0.5)",shadowOffsetX:-3,shadowOffsetY:3,borderWidth:1,borderColor:"#139add"},labelLine:{show:!1}}}]};t.setOption(a)},drawTodayJw:function(){var t=this.$echarts.init(document.getElementById("draw_today_jw")),a={tooltip:{trigger:"item",formatter:"今日警务 <br/>{b}: {d}%"},legend:{type:"scroll",orient:"vertical",top:5,left:0,itemWidth:8,itemHeight:8,textStyle:{color:"#c3d9d4"},data:["出勤消防队","物业确认","项目单位"]},grid:{x:80,y:60,x2:80,y2:60},color:["#06615d","#3e3a6a","#0c4568"],series:[{name:"",type:"pie",radius:["50%","60%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},itemStyle:{normal:{shadowBlur:10,shadowColor:"rgba(19, 142, 206, 0.5)",shadowOffsetX:-3,shadowOffsetY:3,borderWidth:1,borderColor:"#139add"}},labelLine:{normal:{show:!1}},data:[{value:335,name:"出勤消防队"},{value:310,name:"物业确认"},{value:234,name:"项目单位"}]}]};t.setOption(a)}}},g=b,w=(e("afd4"),Object(h["a"])(g,n,r,!1,null,"6db9fa1d",null));a["default"]=w.exports},"1a9b":function(t,a,e){"use strict";var n=e("61f2"),r=e.n(n);r.a},"61f2":function(t,a,e){},"6f2f":function(t,a,e){"use strict";var n=e("de14"),r=e.n(n);r.a},"704e":function(t,a,e){},"88ed":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sub-header"},[e("span"),t._v("\n  "+t._s(t.title)+"\n")])},r=[],i={name:"SubHeader",props:["title"],data:function(){return{}}},s=i,o=(e("ceac"),e("2877")),c=Object(o["a"])(s,n,r,!1,null,"18e87614",null);a["a"]=c.exports},"8b3f":function(t,a,e){},"9f2d":function(t,a,e){"use strict";e.d(a,"c",function(){return i}),e.d(a,"a",function(){return s}),e.d(a,"e",function(){return o}),e.d(a,"d",function(){return c}),e.d(a,"b",function(){return l});var n=e("8897"),r=e("751a");function i(t,a,e){var i="key=".concat(t).concat(a?"&start=".concat(a):"").concat(e?"&end=".concat(e):"");return r["a"].get("".concat(n["a"].baseUrl,"/v2/stats/common?").concat(i))}function s(t){return r["a"].get("".concat(n["a"].baseUrl,"/v2/stations"),t)}function o(t){return r["a"].get("".concat(n["a"].baseUrl,"/v2/stations/version/").concat(t))}function c(t,a){return r["a"].get("".concat(n["a"].baseUrl,"/v2/station/").concat(t,"/upgrade"),a)}function l(){return r["a"].get("".concat(n["a"].baseUrl,"/v2/stats/projects/dist"))}},afd4:function(t,a,e){"use strict";var n=e("bca7"),r=e.n(n);r.a},bca7:function(t,a,e){},c428:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"loading"},[e("i",{staticClass:"el-icon-loading"})])}],i={name:"Loading",data:function(){return{}}},s=i,o=(e("6f2f"),e("2877")),c=Object(o["a"])(s,n,r,!1,null,"90b08894",null);a["a"]=c.exports},ceac:function(t,a,e){"use strict";var n=e("8b3f"),r=e.n(n);r.a},de14:function(t,a,e){}}]);
//# sourceMappingURL=chunk-56dcf7dc.16a71674.js.map