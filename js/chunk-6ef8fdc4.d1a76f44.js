(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef8fdc4"],{"019d":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-header"},[t._v("\n  "+t._s(t.title)+"\n")])},s=[],r={name:"MainHeader",props:["title"],data:function(){return{}}},i=r,c=(e("0844"),e("2877")),o=Object(c["a"])(i,n,s,!1,null,"6a97591c",null);a["a"]=o.exports},"0844":function(t,a,e){"use strict";var n=e("704e"),s=e.n(n);s.a},"0f44":function(t,a,e){"use strict";var n=e("1d05"),s=e.n(n);s.a},"1d05":function(t,a,e){},"486e":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"archive"},[e("div",{staticClass:"left"},[e("div",{staticClass:"p1 border"},[t._m(0),e("div",{staticClass:"part b"},[e("sub-header",{staticClass:"t",attrs:{title:"负责建筑"}}),t._m(1)],1),e("div",{staticClass:"part"},[e("sub-header",{staticClass:"t",attrs:{title:"管理员"}}),t._m(2)],1)]),e("div",{staticClass:"p1 border"},[e("div",{staticClass:"part"},[e("sub-header",{staticClass:"t",attrs:{title:"今日火警"}}),t._m(3)],1),e("div",{staticClass:"part b"},[e("sub-header",{staticClass:"t",attrs:{title:"今日故障"}}),t._m(4)],1),e("div",{staticClass:"part"},[e("sub-header",{staticClass:"t",attrs:{title:"今日隐患"}}),t._m(5)],1)]),e("div",{staticClass:"dataline"},[e("main-header",{attrs:{title:"消防系统异常统计"}}),e("div",{staticClass:"data-sum",attrs:{id:"syserror"}})],1)]),e("div",{staticClass:"right"},[e("div",{staticClass:"map",attrs:{id:"project-map"}},[t._v("map")]),e("div",{staticClass:"func"},[e("div",{staticClass:"func-item border"},[e("sub-header",{staticClass:"t",attrs:{title:"火灾报警系统"}}),t._m(6),e("div",{attrs:{id:"draw_today_jw"}})],1),e("div",{staticClass:"func-item border"},[e("sub-header",{staticClass:"t",attrs:{title:"防火门及卷帘系统"}}),t._m(7),e("div",{attrs:{id:"draw_today_jw2"}})],1),e("div",{staticClass:"func-item border"},[e("sub-header",{staticClass:"t",attrs:{title:"消防水柜控制系统"}}),t._m(8),e("div",{attrs:{id:"draw_today_jw3"}})],1)])])])},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"part data-charts"},[e("div",{attrs:{id:"draw_today_jw4"}}),e("p",{staticClass:"warn_desc"},[t._v("安全等级 "),e("span",[t._v("差")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"desc"},[e("p",[t._v("xxxxxxxxxx")]),e("p",[t._v("xxxxxxxxxx")]),e("p",[t._v("xxxxxxxxxx")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"desc"},[e("p",[t._v("xxxxxxxxxx")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list"},[e("p",{staticClass:"item"},[e("span",[t._v("等待处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("完成处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("处理超时")]),e("span",[t._v("1")]),e("span",[t._v("个")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list"},[e("p",{staticClass:"item"},[e("span",[t._v("等待处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("正在处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("完成处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("处理超时")]),e("span",[t._v("1")]),e("span",[t._v("个")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"list"},[e("p",{staticClass:"item"},[e("span",[t._v("等待处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])]),e("p",{staticClass:"item"},[e("span",[t._v("完成处理")]),e("span",[t._v("1")]),e("span",[t._v("个")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"fun-desc"},[t._v("独立可燃气体 "),e("span",[t._v("0")]),t._v("个")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"fun-desc"},[t._v("防火卷帘门 "),e("span",[t._v("0")]),t._v("个")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("p",{staticClass:"fun-desc"},[t._v("压力表 "),e("span",[t._v("0")]),t._v("个")])}],r=(e("ac6a"),e("7f7f"),e("88ed")),i=e("019d"),c=e("72bb"),o=e("3389"),l=e("8897"),d=e("b3aa"),u={name:"Archive",components:{SubHeader:r["a"],MainHeader:i["a"]},mounted:function(){var t=this;this.drawTodayJw(),this.drawTodayJw2(),this.drawTodayJw3(),this.drawTodayJw4(),this.drawSyserror(),this.map=this.initMap("project-map"),this.initUi(),this.loadProjects().then(function(){t.drawIcons()})},data:function(){return{queryFilter:{name:"",city:""},map:void 0,projects:[]}},methods:{drawSyserror:function(){var t=this.$echarts.init(document.getElementById("syserror")),a={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["上月","上上月","本月"],top:10,textStyle:{color:"#c3d9d4"}},color:["#3e3a6a","#0b4367","#05605c"],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["通用","消防联动","喷水灭火","水泵喷雾","泡沫灭火"],axisLine:{lineStyle:{color:"#82bedc"}}}],yAxis:[{type:"value",splitLine:{show:!1},axisLine:{lineStyle:{color:"#82bedc"}}}],series:[{name:"上月",type:"bar",data:[320,332,301,334,390],itemStyle:{normal:{label:!1,borderWidth:1,borderColor:"#14a0e6"}}},{name:"上上月",type:"bar",data:[120,132,101,230,210],itemStyle:{normal:{label:!1,borderWidth:1,borderColor:"#14a0e6"}}},{name:"本月",type:"bar",data:[220,182,290,330,310],itemStyle:{normal:{label:!1,borderWidth:1,borderColor:"#14a0e6"}}}]};t.setOption(a)},drawTodayJw:function(){var t=this.$echarts.init(document.getElementById("draw_today_jw")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {d}%"},color:["#f8502b","#4ceb5e","#0c4568"],series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:[{value:335,name:"出勤消防队"},{value:310,name:"物业确认"}]}]};t.setOption(a)},drawTodayJw2:function(){var t=this.$echarts.init(document.getElementById("draw_today_jw2")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {d}%"},color:["#f8502b","#4ceb5e","#0c4568"],series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:[{value:335,name:"出勤消防队"},{value:310,name:"物业确认"}]}]};t.setOption(a)},drawTodayJw3:function(){var t=this.$echarts.init(document.getElementById("draw_today_jw3")),a={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {d}%"},color:["#f8502b","#4ceb5e","#0c4568"],series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:[{value:335,name:"出勤消防队"},{value:0,name:"物业确认"}]}]};t.setOption(a)},drawTodayJw4:function(){var t=this.$echarts.init(document.getElementById("draw_today_jw4")),a={tooltip:{show:!1},color:["#00ffc3","#be82f0","#0c4568"],series:[{name:"",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"}},labelLine:{normal:{show:!1}},data:[{value:76,name:"出勤消防队"},{value:24,name:"物业确认"}]}]};t.setOption(a)},queryProjects:function(){var t=this;this.map.clearOverlays(),this.loadProjects().then(function(){t.drawIcons()})},initMap:function(t){var a=new BMap.Map(t),e=Object(c["a"])(l["a"].province),n=Object(c["a"])(l["a"].city);return n?a.centerAndZoom(n,10):e?a.centerAndZoom(e,10):a.centerAndZoom("北京市",10),a.enableScrollWheelZoom(!0),setTimeout(function(){if(a){var t=new BMap.NavigationControl;a.addControl(t),a.addControl(new BMap.MapTypeControl({mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP]}));var e=new window.BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:1});a.addControl(e)}},1e3),a},initUi:function(){},loadProjects:function(){var t=this;return Object(d["c"])().then(function(a){t.projects=a.data.items},function(t){o["a"].error("加载项目失败",o["a"].findErrorMsg(t))})},drawIcons:function(){var t,a=this.queryFilter.city,e=this.queryFilter.name,n=new BMap.Icon("./static/img/project_2.png",new BMap.Size(30,50)),s=this.projects.filter(function(t){return(!a||t.city.indexOf(a)>=0)&&(!e||t.name.indexOf(e)>=0)}),r=[];s.forEach(function(a){t=new BMap.Marker(new BMap.Point(a.lng,a.lat),{icon:n}),r.push(t)})}}},p=u,v=(e("0f44"),e("2877")),m=Object(v["a"])(p,n,s,!1,null,"2c32a806",null);a["default"]=m.exports},"704e":function(t,a,e){},"88ed":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sub-header"},[e("span"),t._v("\n  "+t._s(t.title)+"\n")])},s=[],r={name:"SubHeader",props:["title"],data:function(){return{}}},i=r,c=(e("ceac"),e("2877")),o=Object(c["a"])(i,n,s,!1,null,"18e87614",null);a["a"]=o.exports},"8b3f":function(t,a,e){},b3aa:function(t,a,e){"use strict";e.d(a,"f",function(){return r}),e.d(a,"a",function(){return i}),e.d(a,"d",function(){return c}),e.d(a,"g",function(){return o}),e.d(a,"c",function(){return l}),e.d(a,"e",function(){return d}),e.d(a,"b",function(){return u});var n=e("8897"),s=e("751a");function r(t){return s["a"].get("".concat(n["a"].baseUrl,"/v2/devices/type/report"),t)}function i(t){return s["a"].get("".concat(n["a"].baseUrl,"/v2/company/").concat(t,"/agent"))}function c(t){return s["a"].get("".concat(n["a"].baseUrl,"/v2/company/").concat(t,"/places"))}function o(t,a,e){var r="key=".concat(t).concat(a?"&start=".concat(a):"").concat(e?"&end=".concat(e):"");return s["a"].get("".concat(n["a"].baseUrl,"/v2/stats/common?").concat(r))}function l(t){return s["a"].get("".concat(n["a"].baseUrl,"/v3/places/all"),t)}function d(t){return s["a"].get("".concat(n["a"].baseUrl,"/v2/devices/report"),t)}function u(t){return s["a"].get("".concat(n["a"].baseUrl,"/v2/devices/type/count"),t)}},ceac:function(t,a,e){"use strict";var n=e("8b3f"),s=e.n(n);s.a}}]);
//# sourceMappingURL=chunk-6ef8fdc4.d1a76f44.js.map