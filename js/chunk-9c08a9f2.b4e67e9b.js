(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c08a9f2"],{1750:function(t,e,a){},"3a5b":function(t,e,a){},"4ba2":function(t,e,a){"use strict";var n=a("1750"),r=a.n(n);r.a},5568:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"iotTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData}},t._l(t.tableHeader,function(e,n){return"slot"!==e.type?a("el-table-column",{key:n,attrs:{prop:e.prop,width:e.width,label:e.label}}):a("el-table-column",{key:n,attrs:{width:e.width||150,label:e.label},scopedSlots:t._u([{key:"default",fn:function(a){return[t._t("col-"+e.prop,null,{row:a.row,index:a.$index})]}}],null,!0)})}),1),t.hidepagination?t._e():a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":t.pagination.page,"page-sizes":[10,20,50,100],"page-size":t.pagination.per_page,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},r=[],i={name:"IotTable",props:{tableData:{type:Array,required:!0},tableHeader:{type:Array,required:!0},loading:{type:Boolean},pagination:{type:Object,required:!0},hidepagination:{type:Boolean,default:!1}},data:function(){return{}},methods:{handleSizeChange:function(t){this.pagination.per_page=t,this.$emit("reloaddata")},handleCurrentChange:function(t){console.log(t),this.pagination.page=t,this.$emit("reloaddata")}}},o=i,c=(a("e927"),a("2877")),l=Object(c["a"])(o,n,r,!1,null,"2e99ce96",null);e["a"]=l.exports},"721f":function(t,e,a){"use strict";var n=a("3a5b"),r=a.n(n);r.a},8593:function(t,e,a){"use strict";a.d(e,"f",function(){return i}),a.d(e,"d",function(){return o}),a.d(e,"b",function(){return c}),a.d(e,"e",function(){return l}),a.d(e,"c",function(){return s}),a.d(e,"g",function(){return u}),a.d(e,"a",function(){return d});var n=a("8897"),r=a("751a");function i(t){return r["a"].get("".concat(n["a"].baseUrl,"/v2/companies"),t)}function o(){return r["a"].get("".concat(n["a"].baseUrl,"/v2/roles"))}function c(t){return r["a"].del("".concat(n["a"].baseUrl,"/v2/role/").concat(t))}function l(t){return r["a"].get("".concat(n["a"].baseUrl,"/v2/members?page=").concat(t.page||1,"&per_page=").concat(t.per_page||10),t)}function s(t,e){return r["a"].del("".concat(n["a"].baseUrl,"/v3/member?mid=")+t+"&verify_code="+e)}function u(t){return r["a"].get("".concat(n["a"].baseUrl,"/v2/operations"),t)}function d(t){return r["a"].post("".concat(n["a"].baseUrl,"/v2/company/logo/custom"),t)}},b6ee:function(t,e,a){},dab0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titleHeader"},[a("h3",[t._v(t._s(t.title))])])},r=[],i={name:"TitleHeader",props:["title"],data:function(){return{}}},o=i,c=(a("4ba2"),a("2877")),l=Object(c["a"])(o,n,r,!1,null,"410d105d",null);e["a"]=l.exports},e927:function(t,e,a){"use strict";var n=a("b6ee"),r=a.n(n);r.a},f982:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"role"},[a("title-header",{attrs:{title:"角色定义"}}),a("div",{staticClass:"table-data"},[a("iot-table",{attrs:{tableHeader:t.tableHeader,tableData:t.tableData,pagination:t.pagination,loading:t.loading},on:{reloaddata:t.initData},scopedSlots:t._u([{key:"col-type",fn:function(e){return a("div",{},[a("p",[t._v(t._s("HQ"===e.row.type?"总代":"代理商"))])])}},{key:"col-province",fn:function(e){return a("div",{},[a("p",[t._v(t._s(e.row.province||"")+t._s(e.row.city||"")+t._s(e.row.county||"")+t._s(e.row.village||""))])])}},{key:"col-confirm",fn:function(e){return a("div",{},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleDelete(e.row.code)}}},[a("span",{staticClass:"iconfont iconshanchu"})])],1)}}])})],1)],1)},r=[],i=(a("7f7f"),a("96cf"),a("3b8d")),o=a("dab0"),c=a("5568"),l=a("8593"),s=a("3389"),u=a("c70b"),d={name:"Role",components:{TitleHeader:o["a"],iotTable:c["a"]},data:function(){return{loading:!1,pagination:{page:1,per_page:10,total:0},tableData:[],tableHeader:[{prop:"name",label:"角色名称"},{prop:"desc",label:"描述"},{prop:"createTime",label:"创建时间"},{prop:"confirm",label:"操作",type:"slot"}]}},mounted:function(){this.initData()},methods:{handleDelete:function(t){var e=this;s["a"].confirm("确定要删除？","删除后将无法恢复!",function(){Object(l["b"])(t).then(function(t){200===t.status?(s["a"].info("删除成功"),e.listData()):s["a"].error("删除失败",t.msg)},function(t){s["a"].error("删除失败",s["a"].findErrorMsg(t))})})},initData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,Object(l["d"])();case 4:e=t.sent,a=e.data,this.tableData=a.map(function(t){return{name:t.name,code:t.code,desc:t.desc,createTime:u["a"].format(new Date(1e3*t.create_time),"YYYY-MM-dd HH:mm:ss"),updateTime:t.update_time}}),this.pagination.total=a.length||0,this.loading=!1,t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),this.loading=!1,s["a"].error("查询角色列表失败",s["a"].findErrorMsg(t.t0));case 15:case"end":return t.stop()}},t,this,[[1,11]])}));function e(){return t.apply(this,arguments)}return e}(),handleSearch:function(){""!==this.queryFilter.name||""!==this.queryFilter.code||""!==this.queryFilter.type?this.initData():s["a"].error("查询条件不能为空")}}},p=d,f=(a("721f"),a("2877")),b=Object(f["a"])(p,n,r,!1,null,"2cc47843",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-9c08a9f2.b4e67e9b.js.map