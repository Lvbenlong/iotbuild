(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c3f726d"],{"05ab":function(e,t,a){},"0eb1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"permission"},[a("p",{staticClass:"htitle"},[a("span",{class:{active:1===e.nowshow},on:{click:function(t){return e.handleSet(1)}}},[e._v("权限管理")]),a("span",{class:{active:2===e.nowshow},on:{click:function(t){return e.handleSet(2)}}},[e._v("我的审核")])]),1===e.nowshow?a("org"):a("approval")],1)},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"org"},[a("div",{staticClass:"data1"},[a("div",{staticClass:"selects"},[a("div",{staticClass:"select-titles"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"},[e._v("公司名称")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"},[e._v("公司编码")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"},[e._v("组织类型")])]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item"})])],1)],1),a("div",{staticClass:"select-content"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item selsct-common"},[a("el-input",{attrs:{placeholder:"请输入公司名称"},model:{value:e.queryFilter.name,callback:function(t){e.$set(e.queryFilter,"name",t)},expression:"queryFilter.name"}})],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item selsct-common"},[a("el-input",{attrs:{placeholder:"请输入公司编码"},model:{value:e.queryFilter.code,callback:function(t){e.$set(e.queryFilter,"code",t)},expression:"queryFilter.code"}})],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"common-item selsct-common"},[a("el-select",{attrs:{placeholder:"请选择事件类型"},model:{value:e.queryFilter.type,callback:function(t){e.$set(e.queryFilter,"type",t)},expression:"queryFilter.type"}},e._l(e.type,function(e){return a("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1)]),a("el-col",{attrs:{span:6}},[a("el-button",{staticClass:"blue",attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")])],1)],1)],1)]),a("div",{staticClass:"table-data"},[a("iot-table",{attrs:{tableHeader:e.tableHeader,tableData:e.tableData,pagination:e.pagination,loading:e.loading},on:{reloaddata:e.initData},scopedSlots:e._u([{key:"col-type",fn:function(t){return a("div",{},[a("p",[e._v(e._s("HQ"===t.row.type?"总代":"代理商"))])])}},{key:"col-province",fn:function(t){return a("div",{},[a("p",[e._v(e._s(t.row.province||"")+e._s(t.row.city||"")+e._s(t.row.county||"")+e._s(t.row.village||""))])])}}])})],1)])])},o=[],l=(a("7f7f"),a("96cf"),a("3b8d")),s=a("8593"),c=a("5568"),p=a("3389"),u={name:"Permission",components:{iotTable:c["a"]},data:function(){return{loading:!1,queryFilter:{name:"",code:"",type:""},type:[{code:"",name:"全部"},{code:"HQ",name:"总代"},{code:"CH",name:"代理商"}],pagination:{page:1,per_page:10,total:0},tableData:[],tableHeader:[{prop:"name",label:"代理商名称"},{prop:"code",label:"编码"},{prop:"type",label:"组织类型",type:"slot"},{prop:"members_count",label:"人员数"},{prop:"province",label:"所在地区",type:"slot"}]}},mounted:function(){this.initData()},methods:{initData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t={page:this.pagination.page,per_page:this.pagination.per_page,name:this.queryFilter.name?this.queryFilter.name:void 0,code:this.queryFilter.code?this.queryFilter.code:void 0,type:this.queryFilter.type?this.queryFilter.type:void 0,status:0},e.prev=2,e.next=5,Object(s["f"])(t);case 5:a=e.sent,n=a.data,this.tableData=n.items,this.pagination={total:n.page_info.total,page:n.page_info.page,per_page:n.page_info.per_page},this.loading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),this.loading=!1,p["a"].error("查询数据失败",p["a"].findErrorMsg(e.t0));case 16:case"end":return e.stop()}},e,this,[[2,12]])}));function t(){return e.apply(this,arguments)}return t}()}},d=u,g=(a("797d"),a("2877")),m=Object(g["a"])(d,r,o,!1,null,"1aab2179",null),f=m.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"org"},[a("div",{staticClass:"table-data"},[a("iot-table",{attrs:{tableHeader:e.tableHeader,tableData:e.tableData,pagination:e.pagination,loading:e.loading},on:{reloaddata:e.initData},scopedSlots:e._u([{key:"col-type",fn:function(t){return a("div",{},[a("p",[e._v(e._s("HQ"===t.row.type?"总代":"代理商"))])])}},{key:"col-province",fn:function(t){return a("div",{},[a("p",[e._v(e._s(t.row.province||"")+e._s(t.row.city||"")+e._s(t.row.county||"")+e._s(t.row.village||""))])])}}])})],1)])},v=[],b={name:"Permission",components:{iotTable:c["a"]},data:function(){return{loading:!1,queryFilter:{name:"",code:"",type:""},type:[{code:"",name:"全部"},{code:"HQ",name:"总代"},{code:"CH",name:"代理商"}],pagination:{page:1,per_page:10,total:0},tableData:[],tableHeader:[{prop:"name",label:"代理商名称"},{prop:"code",label:"编码"},{prop:"type",label:"组织类型",type:"slot"},{prop:"members_count",label:"人员数"},{prop:"province",label:"所在地区",type:"slot"},{prop:"apply_reason",label:"申请原因"},{prop:"create_user",label:"创建人"},{prop:"memo",label:"备注"}]}},mounted:function(){this.initData()},methods:{initData:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={page:this.pagination.page,per_page:this.pagination.per_page,name:this.queryFilter.name?this.queryFilter.name:void 0,code:this.queryFilter.code?this.queryFilter.code:void 0,type:this.queryFilter.type?this.queryFilter.type:void 0,status:1},this.loading=!0,e.prev=2,e.next=5,Object(s["f"])(t);case 5:a=e.sent,n=a.data,this.tableData=n.items,this.pagination={total:n.page_info.total,page:n.page_info.page,per_page:n.page_info.per_page},this.loading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](2),this.loading=!1,p["a"].error("查询数据失败",p["a"].findErrorMsg(e.t0));case 16:case"end":return e.stop()}},e,this,[[2,12]])}));function t(){return e.apply(this,arguments)}return t}()}},y=b,_=(a("c5a6"),Object(g["a"])(y,h,v,!1,null,"31348c08",null)),w=_.exports,q={name:"Permission",components:{org:f,approval:w},data:function(){return{nowshow:1}},mounted:function(){},methods:{handleSet:function(e){this.nowshow=e}}},C=q,F=(a("159c"),Object(g["a"])(C,n,i,!1,null,"0540f393",null));t["default"]=F.exports},"159c":function(e,t,a){"use strict";var n=a("7a74"),i=a.n(n);i.a},5568:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"iotTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData}},e._l(e.tableHeader,function(t,n){return"slot"!==t.type?a("el-table-column",{key:n,attrs:{prop:t.prop,width:t.width,label:t.label}}):a("el-table-column",{key:n,attrs:{width:t.width||150,label:t.label},scopedSlots:e._u([{key:"default",fn:function(a){return[e._t("col-"+t.prop,null,{row:a.row,index:a.$index})]}}],null,!0)})}),1),e.showPage?a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.pagination.page,"page-sizes":[10,20,50,100],"page-size":e.pagination.per_page,layout:"total, sizes, prev, pager, next, jumper",total:e.pagination.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},i=[],r={name:"IotTable",props:{tableData:{type:Array,required:!0},tableHeader:{type:Array,required:!0},loading:{type:Boolean,required:!1},pagination:{type:Object,required:!1},hidepagination:{type:Boolean,required:!1,default:!1}},data:function(){return{}},computed:{showPage:function(){return!this.hidepagination&&!!this.pagination}},methods:{handleSizeChange:function(e){this.pagination.per_page=e,this.$emit("reloaddata")},handleCurrentChange:function(e){console.log(e),this.pagination.page=e,this.$emit("reloaddata")}}},o=r,l=(a("c18f"),a("2877")),s=Object(l["a"])(o,n,i,!1,null,"d6bd296c",null);t["a"]=s.exports},"797d":function(e,t,a){"use strict";var n=a("f310"),i=a.n(n);i.a},"7a74":function(e,t,a){},8593:function(e,t,a){"use strict";a.d(t,"f",function(){return o}),a.d(t,"d",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"c",function(){return p}),a.d(t,"g",function(){return u}),a.d(t,"a",function(){return d}),a.d(t,"h",function(){return g});var n=a("8897"),i=a("751a"),r=a("72bb");function o(e){return i["a"].get("".concat(n["a"].baseUrl,"/v2/companies"),e)}function l(){return i["a"].get("".concat(n["a"].baseUrl,"/v2/roles"))}function s(e){return i["a"].del("".concat(n["a"].baseUrl,"/v2/role/").concat(e))}function c(e){return i["a"].get("".concat(n["a"].baseUrl,"/v2/members?page=").concat(e.page||1,"&per_page=").concat(e.per_page||10),e)}function p(e,t){return i["a"].del("".concat(n["a"].baseUrl,"/v3/member?mid=")+e+"&verify_code="+t)}function u(e){return i["a"].get("".concat(n["a"].baseUrl,"/v2/operations"),e)}function d(e){return i["a"].post("".concat(n["a"].baseUrl,"/v2/company/logo/custom"),e)}function g(e){return i["a"].post("".concat(n["a"].baseUrl,"/v2/imei/mac/excel"),e,{headers:{"X-API-TOKEN":Object(r["a"])(n["a"].token)}})}},"9f84":function(e,t,a){},c18f:function(e,t,a){"use strict";var n=a("9f84"),i=a.n(n);i.a},c5a6:function(e,t,a){"use strict";var n=a("05ab"),i=a.n(n);i.a},f310:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2c3f726d.8035fdab.js.map