(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0eb52256"],{"04b3":function(e,t,n){e.exports=n.p+"img/close.ab0461dc.png"},"2ad4":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"report"},[a("title-header",{attrs:{title:"安装趋势/九九物联"}}),a("div",{staticClass:"tools"},[a("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")])],1),a("div",{staticClass:"filter"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("开始时间")]),a("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择"},model:{value:e.queryFilter.start,callback:function(t){e.$set(e.queryFilter,"start",t)},expression:"queryFilter.start"}})],1),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("结束时间")]),a("el-date-picker",{attrs:{type:"datetime",placeholder:"请选择"},model:{value:e.queryFilter.end,callback:function(t){e.$set(e.queryFilter,"end",t)},expression:"queryFilter.end"}})],1)],1),a("br"),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("省级代理商")]),a("el-select",{attrs:{placeholder:"请选择省级代理"},model:{value:e.provinceagent,callback:function(t){e.provinceagent=t},expression:"provinceagent"}},e._l(e.provinceagentlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("市级代理商")]),a("el-select",{attrs:{placeholder:"市级代理商"},model:{value:e.cityagent,callback:function(t){e.cityagent=t},expression:"cityagent"}},e._l(e.cityagentlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1),a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("区/县级代理商")]),a("el-select",{attrs:{placeholder:"请选择区/县级代理"},model:{value:e.countyagent,callback:function(t){e.countyagent=t},expression:"countyagent"}},e._l(e.countyagentlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1)],1),a("br"),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("p",{staticClass:"name"},[e._v("汇总项目")]),a("el-select",{attrs:{placeholder:"请选择省级代理"},model:{value:e.projectchoseall,callback:function(t){e.projectchoseall=t},expression:"projectchoseall"}},e._l(e.allSupervisors,function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e}})}),1)],1)],1),a("br"),a("div",{staticClass:"device-list"},[a("p",{staticClass:"name"},[e._v("汇总设备")]),a("div",{staticClass:"lists"},[a("div",{staticClass:"select common-item",on:{click:e.choseequipment}},[e._v("选择设备")]),e._l(e.equipmentlistz,function(t,n){return t.checked?a("div",{key:n,staticClass:"list-item common-item"},[e._v("\n          "+e._s(t.name)+"\n          "),a("span",{on:{click:function(n){return e.deleteChecked(t)}}},[a("i",{staticClass:"iconfont iconguanbi"})])]):e._e()})],2)])],1),e._m(0),e._m(1),e._m(2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showequipment,expression:"showequipment"}],staticClass:"popups"},[a("div",{staticClass:"equipmentpanel"},[a("h3",{staticClass:"equipmentpaneltitle"},[e._v("\n        总汇设备\n        "),a("img",{staticClass:"closeshowequipment",attrs:{src:n("04b3")},on:{click:e.allcancel}})]),a("div",{staticClass:"content"},[a("h3",{staticClass:"equipmentpanelcontent"},[e._v("\n          请勾选需要的设备：\n        ")]),a("ul",{staticClass:"contentcheck"},e._l(e.equipmentlistz,function(t,n){return a("li",{key:n,on:{click:function(n){return e.changecheck(t)}}},[a("label",[a("div",{class:{ischecked:t.checked}}),e._v(e._s(t.name)+"\n            ")])])}),0),a("ul",{staticClass:"contentcheck"},[a("li",{on:{click:e.allchangechecked}},[a("label",[a("div",{class:{ischecked:this.allchecked}}),e._v("全部选择\n            ")])]),a("li",{on:{click:e.dischangechecked}},[a("label",[a("div",{class:{ischecked:this.dischecked}}),e._v("全部取消\n            ")])])]),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-middle",on:{click:e.allcancel}},[e._v("\n            取消\n          ")]),a("button",{staticClass:"btn btn-middle btn-green",on:{click:e.choseequipment}},[e._v("\n            确认\n          ")])])])])]),a("loading",{directives:[{name:"show",rawName:"v-show",value:e.showLoadingDiolod,expression:"showLoadingDiolod"}]})],1)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-box"},[n("div",{staticStyle:{width:"95%",height:"400px"},attrs:{id:"daily"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-box"},[n("div",{staticStyle:{width:"95%",height:"400px"},attrs:{id:"devideStatus"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"data-box"},[n("div",{staticStyle:{width:"95%",height:"400px"},attrs:{id:"devideStatus"}})])}],i=(n("96cf"),n("3b8d")),s=(n("7f7f"),n("ac6a"),n("5df3"),n("dab0")),l=n("b3aa"),r=n("72bb"),o=n("8897"),d=n("c428"),u=n("3389"),h={name:"Report",components:{TitleHeader:s["a"],Loading:d["a"]},mounted:function(){var e=this;this.companyName=Object(r["a"])(o["a"].companyTureName),this.level=Object(r["a"])(o["a"].level),this.cid=Object(r["a"])(o["a"].companyId),this.drawDaily(),this.drawDevideStatus(),Promise.all([this.getagentlist(Object(r["a"])(o["a"].companyId)),this.getplaceslist(Object(r["a"])(o["a"].code)),this.getreporttypelist(Object(r["a"])(o["a"].companyId),this.pids)]).then(function(){e.showLoadingDiolod=!1}).catch(function(t){e.showLoadingDiolod=!1,u["a"].error("查询数据失败",u["a"].findErrorMsg(t))})},data:function(){return{showLoadingDiolod:!1,allchecked:!1,dischecked:!1,showequipment:!1,queryFilter:{project:void 0,cycle:void 0,summarymode:{code:"2",display:"按设备"},start:"",end:""},provinceagentlist:[],cityagentlist:[],countyagentlist:[],equipmentlistz:[],projectchoseall:"",provinceagent:"",cityagent:"",countyagent:"",placeslist:"",level:"",cid:"",summarymode:[{code:"1",display:"按项目"},{code:"2",display:"按设备"}],equipmentlist:[{code:"1",checked:!0,name:"定位终端"},{code:"2",checked:!0,name:"智能烟感"},{code:"3",checked:!0,name:"红外"},{code:"5",checked:!0,name:"气体报警"},{code:"6",checked:!0,name:"一氧化碳"},{code:"7",checked:!0,name:"一键报警"},{code:"11",checked:!0,name:"智能用电终端"},{code:"12",checked:!0,name:"电器线路"},{code:"13",checked:!0,name:"古玩字画"},{code:"14",checked:!0,name:"WISE主机"},{code:"15",checked:!0,name:"智能温感"},{code:"17",checked:!0,name:"液化石油气报警终端"},{code:"21",checked:!0,name:"用电安全"},{code:"22",checked:!0,name:"消防栓"},{code:"23",checked:!0,name:"水位仪"},{code:"24",checked:!0,name:"消防主机联网"},{code:"26",checked:!0,name:"巡更助手"},{code:"27",checked:!0,name:"消防栓压力监控"},{code:"28",checked:!0,name:"液位监控"},{code:"30",checked:!0,name:"电气火灾监控器"},{code:"91",checked:!0,name:"视频监控"},{code:"92",checked:!0,name:"灭火器"},{code:"178",checked:!0,name:"NB烟感"},{code:"181",checked:!0,name:"NB燃气"},{code:"229",checked:!0,name:"工业燃气"},{code:"31",checked:!0,name:"控制柜监测"},{code:"183",checked:!0,name:"NB一键报警"}]}},computed:{allSupervisors:function(){return this.placeslist?this.placeslist.map(function(e){return{name:e.name,id:e.id,flag:!1}}):{}}},methods:{drawDaily:function(){var e=this.$echarts.init(document.getElementById("daily")),t={title:{text:"安装日报",subtext:"新增/台",textStyle:{color:"#f2f2f2",fontStyle:"",fontSize:16}},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",name:"日期",boundaryGap:!1,data:[1,2,3],axisLabel:{show:!0,textStyle:{color:"#f2f2f2",fontSize:"12"}},axisLine:{show:!0,lineStyle:{color:"#3C525C",width:1}},splitLine:{show:!1,lineStyle:{color:["red"]}}},yAxis:{name:"数量",type:"value",axisLabel:{show:!0,textStyle:{color:"#f2f2f2",fontSize:"12"}},axisLine:{show:!0,lineStyle:{color:"#3C525C",width:1}},splitLine:{show:!1,lineStyle:{color:["red"]}}},series:[{name:"安装数量",type:"line",data:[5,6,7],lineStyle:{normal:{color:"#fbec40",width:2}},itemStyle:{normal:{borderWidth:3,borderColor:"yellow",color:"yellow"}}}]};e.setOption(t)},drawDevideStatus:function(){var e=this.$echarts.init(document.getElementById("devideStatus")),t={title:{text:"设备安装状态",subtext:"新增/台",textStyle:{color:"#f2f2f2",fontStyle:"",fontSize:16}},tooltip:{trigger:"axis"},xAxis:{type:"category",name:"设备",data:[1,2,3],axisLabel:{show:!0,textStyle:{color:"#f2f2f2",fontSize:"12"}},axisLine:{show:!0,lineStyle:{color:"#3C525C",width:1}},splitLine:{show:!1,lineStyle:{color:["red"]}}},yAxis:{name:"数量",type:"value",axisLabel:{show:!0,textStyle:{color:"#f2f2f2",fontSize:"12"}},splitLine:{show:!1,lineStyle:{color:["red"]}},axisLine:{show:!0,lineStyle:{color:"#3C525C",width:1}}},series:[{name:"安装数量",type:"bar",barWidth:"12",data:[4,5,6],lineStyle:{normal:{color:"#fbec40",width:2}},itemStyle:{normal:{barBorderRadius:[10,10,0,0],color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#01d1a1"},{offset:.5,color:"#01acbe"},{offset:1,color:"#01acbe"}]),opacity:.85}}}]};e.setOption(t)},getreporttypelist:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){var a,c,i,s,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a={cid:t,pids:n},e.prev=1,e.next=4,Object(l["f"])(a);case 4:for(c=e.sent,i=c.data,this.cid=t,this.reporttype=i.types,s=[],r=0;r<this.equipmentlist.length;r++)for(o=0;o<this.reporttype.length;o++)this.equipmentlist[r].code==this.reporttype[o]&&s.push(this.equipmentlist[r]);this.equipmentlistz=s,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),u["a"].error("查询失败",u["a"].findErrorMsg(e.t0));case 16:case"end":return e.stop()}},e,this,[[1,13]])}));function t(t,n){return e.apply(this,arguments)}return t}(),getagentlist:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,a,c,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["a"])(t);case 3:if(n=e.sent,a=n.data,"province"!=a.level){e.next=12;break}if(0!==a.companys_list.length){e.next=8;break}return e.abrupt("return");case 8:for(this.provinceagentlist=a.companys_list,c=0;c<this.provinceagentlist.length;c++)"CH"==this.provinceagentlist[c].type_level&&this.provinceagentlist.splice(c,1);e.next=27;break;case 12:if("city"!=a.level){e.next=19;break}if(0!==a.companys_list.length){e.next=15;break}return e.abrupt("return");case 15:for(this.cityagentlist=a.companys_list,i=0;i<this.cityagentlist.length;i++)"CH"==this.cityagentlist[i].type_level&&this.cityagentlist.splice(i,1);e.next=27;break;case 19:if("county"!=a.level){e.next=26;break}if(0!==a.companys_list.length){e.next=22;break}return e.abrupt("return");case 22:for(this.countyagentlist=a.companys_list,s=0;s<this.countyagentlist.length;s++)"CH"==this.countyagentlist[s].type_level&&this.countyagentlist.splice(s,1);e.next=27;break;case 26:a.level;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e["catch"](0),u["a"].error("查询失败",u["a"].findErrorMsg(e.t0));case 32:case"end":return e.stop()}},e,this,[[0,29]])}));function t(t){return e.apply(this,arguments)}return t}(),getplaceslist:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["d"])(t);case 3:n=e.sent,a=n.data,this.placeslist=a,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),u["a"].error("查询失败",u["a"].findErrorMsg(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));function t(t){return e.apply(this,arguments)}return t}(),deleteChecked:function(e){e.checked=!e.checked,this.equipmentlistz},choseequipment:function(){this.showequipment=!this.showequipment},changecheck:function(e){e.checked=!e.checked},initData:function(){},allchangechecked:function(){for(var e=0;e<this.equipmentlistz.length;e++)this.equipmentlistz[e].checked=!0;this.allchecked=!0,this.dischecked=!1},dischangechecked:function(){for(var e=0;e<this.equipmentlistz.length;e++)this.equipmentlistz[e].checked=!1;this.dischecked=!0,this.allchecked=!1},allcancel:function(){this.showequipment=!this.showequipment}}},p=h,m=(n("cb56"),n("2877")),f=Object(m["a"])(p,a,c,!1,null,null,null);t["default"]=f.exports},"5df3":function(e,t,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=a(t,n),this._i+=e.length,{value:e,done:!1})})},"6f2f":function(e,t,n){"use strict";var a=n("de14"),c=n.n(a);c.a},"84c0":function(e,t,n){},b3aa:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"g",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return u});var a=n("8897"),c=n("751a");function i(e){return c["a"].get("".concat(a["a"].baseUrl,"/v2/devices/type/report"),e)}function s(e){return c["a"].get("".concat(a["a"].baseUrl,"/v2/company/").concat(e,"/agent"))}function l(e){return c["a"].get("".concat(a["a"].baseUrl,"/v2/company/").concat(e,"/places"))}function r(e,t,n){var i="key=".concat(e).concat(t?"&start=".concat(t):"").concat(n?"&end=".concat(n):"");return c["a"].get("".concat(a["a"].baseUrl,"/v2/stats/common?").concat(i))}function o(e){return c["a"].get("".concat(a["a"].baseUrl,"/v3/places/all"),e)}function d(e){return c["a"].get("".concat(a["a"].baseUrl,"/v2/devices/report"),e)}function u(e){return c["a"].get("".concat(a["a"].baseUrl,"/v2/devices/type/count"),e)}},c428:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading"},[n("i",{staticClass:"el-icon-loading"})])}],i={name:"Loading",data:function(){return{}}},s=i,l=(n("6f2f"),n("2877")),r=Object(l["a"])(s,a,c,!1,null,"90b08894",null);t["a"]=r.exports},cb56:function(e,t,n){"use strict";var a=n("e728"),c=n.n(a);c.a},dab0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"titleHeader"},[n("h3",[e._v(e._s(e.title))])])},c=[],i={name:"TitleHeader",props:["title"],data:function(){return{}}},s=i,l=(n("e4fc"),n("2877")),r=Object(l["a"])(s,a,c,!1,null,"2b873fd4",null);t["a"]=r.exports},de14:function(e,t,n){},e4fc:function(e,t,n){"use strict";var a=n("84c0"),c=n.n(a);c.a},e728:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0eb52256.b826baf7.js.map