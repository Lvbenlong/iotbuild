(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f64bf526"],{"04b3":function(e,t,c){e.exports=c.p+"img/close.ab0461dc.png"},"9ae4":function(e,t,c){"use strict";var n=c("d2d2"),a=c.n(n);a.a},a463:function(e,t,c){},b3aa:function(e,t,c){"use strict";c.d(t,"d",function(){return s}),c.d(t,"a",function(){return i}),c.d(t,"c",function(){return l}),c.d(t,"e",function(){return r}),c.d(t,"b",function(){return o});var n=c("8897"),a=c("751a");function s(e){return a["a"].get("".concat(n["a"].baseUrl,"/v2/devices/type/report"),e)}function i(e){return a["a"].get("".concat(n["a"].baseUrl,"/v2/company/").concat(e,"/agent"))}function l(e){return a["a"].get("".concat(n["a"].baseUrl,"/v2/company/").concat(e,"/places"))}function r(e,t,c){var s="key=".concat(e).concat(t?"&start=".concat(t):"").concat(c?"&end=".concat(c):"");return a["a"].get("".concat(n["a"].baseUrl,"/v2/stats/common?").concat(s))}function o(e){return a["a"].get("".concat(n["a"].baseUrl,"/v3/places/all"),e)}},d2d2:function(e,t,c){},dab0:function(e,t,c){"use strict";var n=function(){var e=this,t=e.$createElement,c=e._self._c||t;return c("div",{staticClass:"titleHeader"},[c("h3",[e._v(e._s(e.title))])])},a=[],s={name:"TitleHeader",props:["title"],data:function(){return{}}},i=s,l=(c("9ae4"),c("2877")),r=Object(l["a"])(i,n,a,!1,null,"1a9ba3f7",null);t["a"]=r.exports},ebde:function(e,t,c){"use strict";var n=c("a463"),a=c.n(n);a.a},f36a:function(e,t,c){"use strict";c.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report"},[n("title-header",{attrs:{title:"安装报表/九九物联"}}),n("div",{staticClass:"tools"},[n("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:e.initData}},[e._v("查询")]),n("el-button",{staticClass:"green",attrs:{type:"primary"},on:{click:e.initData}},[e._v("导出")])],1),n("div",{staticClass:"filter"},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("汇总方式")]),n("el-select",{attrs:{placeholder:"请选择汇总方式"},model:{value:e.queryFilter.summarymode,callback:function(t){e.$set(e.queryFilter,"summarymode",t)},expression:"queryFilter.summarymode"}},e._l(e.summarymode,function(e){return n("el-option",{key:e.code,attrs:{label:e.display,value:e.code}})}),1)],1),n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("开始时间")]),n("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-DD HH:mm:ss",placeholder:"请选择"},model:{value:e.queryFilter.start,callback:function(t){e.$set(e.queryFilter,"start",t)},expression:"queryFilter.start"}})],1),n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("结束时间")]),n("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-DD HH:mm:ss",placeholder:"请选择"},model:{value:e.queryFilter.end,callback:function(t){e.$set(e.queryFilter,"end",t)},expression:"queryFilter.end"}})],1)],1),n("br"),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("省级代理商")]),n("el-select",{attrs:{placeholder:"请选择省级代理"},model:{value:e.provinceagent,callback:function(t){e.provinceagent=t},expression:"provinceagent"}},e._l(e.provinceagentlist,function(e){return n("el-option",{key:e,attrs:{label:e.name,value:e}})}),1)],1),n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("市级代理商")]),n("el-select",{attrs:{placeholder:"市级代理商"},model:{value:e.cityagent,callback:function(t){e.cityagent=t},expression:"cityagent"}},e._l(e.cityagentlist,function(e){return n("el-option",{key:e,attrs:{label:e.name,value:e}})}),1)],1),n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("区/县级代理商")]),n("el-select",{attrs:{placeholder:"请选择区/县级代理"},model:{value:e.countyagent,callback:function(t){e.countyagent=t},expression:"countyagent"}},e._l(e.countyagentlist,function(e){return n("el-option",{key:e,attrs:{label:e.name,value:e}})}),1)],1)],1),n("br"),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:8}},[n("p",{staticClass:"name"},[e._v("汇总项目")]),n("el-select",{attrs:{placeholder:"请选择省级代理"},model:{value:e.projectchoseall,callback:function(t){e.projectchoseall=t},expression:"projectchoseall"}},e._l(e.allSupervisors,function(e){return n("el-option",{key:e,attrs:{label:e.name,value:e}})}),1)],1)],1),n("br"),n("div",{staticClass:"device-list"},[n("p",{staticClass:"name"},[e._v("汇总设备")]),n("div",{staticClass:"lists"},[n("div",{staticClass:"select common-item",on:{click:e.choseequipment}},[e._v("选择设备")]),e._l(e.equipmentlistz,function(t,c){return t.checked?n("div",{key:c,staticClass:"list-item common-item"},[e._v("\n          "+e._s(t.name)+"\n          "),n("span",{on:{click:function(c){return e.deleteChecked(t)}}},[n("i",{staticClass:"iconfont iconguanbi"})])]):e._e()})],2)])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showequipment,expression:"showequipment"}],staticClass:"popups"},[n("div",{staticClass:"equipmentpanel"},[n("h3",{staticClass:"equipmentpaneltitle"},[e._v("\n        总汇设备\n        "),n("img",{staticClass:"closeshowequipment",attrs:{src:c("04b3")},on:{click:e.allcancel}})]),n("div",{staticClass:"content"},[n("h3",{staticClass:"equipmentpanelcontent"},[e._v("\n          请勾选需要的设备：\n        ")]),n("ul",{staticClass:"contentcheck"},e._l(e.equipmentlistz,function(t,c){return n("li",{key:c,on:{click:function(c){return e.changecheck(t)}}},[n("label",[n("div",{class:{ischecked:t.checked}}),e._v(e._s(t.name)+"\n            ")])])}),0),n("ul",{staticClass:"contentcheck"},[n("li",{on:{click:e.allchangechecked}},[n("label",[n("div",{class:{ischecked:this.allchecked}}),e._v("全部选择\n            ")])]),n("li",{on:{click:e.dischangechecked}},[n("label",[n("div",{class:{ischecked:this.dischecked}}),e._v("全部取消\n            ")])])]),n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-middle",on:{click:e.allcancel}},[e._v("\n            取消\n          ")]),n("button",{staticClass:"btn btn-middle btn-green",on:{click:e.choseequipment}},[e._v("\n            确认\n          ")])])])])])],1)},a=[],s=(c("96cf"),c("3b8d")),i=(c("7f7f"),c("dab0")),l=c("b3aa"),r=c("72bb"),o=c("8897"),u={name:"Report",components:{TitleHeader:i["a"]},mounted:function(){this.companyName=Object(r["a"])(o["a"].companyTureName),this.level=Object(r["a"])(o["a"].level),this.getagentlist(Object(r["a"])(o["a"].companyId)),this.getplaceslist(Object(r["a"])(o["a"].code)),this.getreporttypelist(Object(r["a"])(o["a"].companyId),this.pids),this.cid=Object(r["a"])(o["a"].companyId)},data:function(){return{allchecked:!1,dischecked:!1,showequipment:!1,queryFilter:{project:void 0,cycle:void 0,summarymode:{code:"2",display:"按设备"},start:"",end:new Date},provinceagentlist:[],cityagentlist:[],countyagentlist:[],equipmentlistz:[],projectchoseall:"",provinceagent:"",cityagent:"",countyagent:"",placeslist:"",level:"",cid:"",summarymode:[{code:"1",display:"按项目"},{code:"2",display:"按设备"}],equipmentlist:[{code:"1",checked:!0,name:"定位终端"},{code:"2",checked:!0,name:"智能烟感"},{code:"3",checked:!0,name:"红外"},{code:"5",checked:!0,name:"气体报警"},{code:"6",checked:!0,name:"一氧化碳"},{code:"7",checked:!0,name:"一键报警"},{code:"11",checked:!0,name:"智能用电终端"},{code:"12",checked:!0,name:"电器线路"},{code:"13",checked:!0,name:"古玩字画"},{code:"14",checked:!0,name:"WISE主机"},{code:"15",checked:!0,name:"智能温感"},{code:"17",checked:!0,name:"液化石油气报警终端"},{code:"21",checked:!0,name:"用电安全"},{code:"22",checked:!0,name:"消防栓"},{code:"23",checked:!0,name:"水位仪"},{code:"24",checked:!0,name:"消防主机联网"},{code:"26",checked:!0,name:"巡更助手"},{code:"27",checked:!0,name:"消防栓压力监控"},{code:"28",checked:!0,name:"液位监控"},{code:"30",checked:!0,name:"电气火灾监控器"},{code:"91",checked:!0,name:"视频监控"},{code:"92",checked:!0,name:"灭火器"},{code:"178",checked:!0,name:"NB烟感"},{code:"181",checked:!0,name:"NB燃气"},{code:"229",checked:!0,name:"工业燃气"},{code:"31",checked:!0,name:"控制柜监测"},{code:"183",checked:!0,name:"NB一键报警"}]}},computed:{allSupervisors:function(){return this.placeslist?this.placeslist.map(function(e){return{name:e.name,id:e.id,flag:!1}}):{}}},methods:{getreporttypelist:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,c){var n,a,s,i,r,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={cid:t,pids:c},console.log(n),e.prev=2,e.next=5,Object(l["d"])(n);case 5:for(a=e.sent,s=a.data,console.log(s),this.cid=t,this.reporttype=s.types,i=[],r=0;r<this.equipmentlist.length;r++)for(o=0;o<this.reporttype.length;o++)this.equipmentlist[r].code==this.reporttype[o]&&i.push(this.equipmentlist[r]);this.equipmentlistz=i,e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](2),console.log(e.t0);case 18:case"end":return e.stop()}},e,this,[[2,15]])}));function t(t,c){return e.apply(this,arguments)}return t}(),getagentlist:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var c,n,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["a"])(t);case 3:if(c=e.sent,n=c.data,console.log(n),"province"!=n.level){e.next=13;break}if(0!==n.companys_list.length){e.next=9;break}return e.abrupt("return");case 9:for(this.provinceagentlist=n.companys_list,a=0;a<this.provinceagentlist.length;a++)"CH"==this.provinceagentlist[a].type_level&&this.provinceagentlist.splice(a,1);e.next=28;break;case 13:if("city"!=n.level){e.next=20;break}if(0!==n.companys_list.length){e.next=16;break}return e.abrupt("return");case 16:for(this.cityagentlist=n.companys_list,s=0;s<this.cityagentlist.length;s++)"CH"==this.cityagentlist[s].type_level&&this.cityagentlist.splice(s,1);e.next=28;break;case 20:if("county"!=n.level){e.next=27;break}if(0!==n.companys_list.length){e.next=23;break}return e.abrupt("return");case 23:for(this.countyagentlist=n.companys_list,i=0;i<this.countyagentlist.length;i++)"CH"==this.countyagentlist[i].type_level&&this.countyagentlist.splice(i,1);e.next=28;break;case 27:n.level;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e["catch"](0),console.log(e.t0);case 33:case"end":return e.stop()}},e,this,[[0,30]])}));function t(t){return e.apply(this,arguments)}return t}(),getplaceslist:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var c,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l["c"])(t);case 3:c=e.sent,n=c.data,console.log("placeslist"),console.log(n),this.placeslist=n,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));function t(t){return e.apply(this,arguments)}return t}(),deleteChecked:function(e){e.checked=!e.checked,this.equipmentlistz},choseequipment:function(){this.showequipment=!this.showequipment},changecheck:function(e){e.checked=!e.checked},initData:function(){},allchangechecked:function(){for(var e=0;e<this.equipmentlistz.length;e++)this.equipmentlistz[e].checked=!0;this.allchecked=!0,this.dischecked=!1},dischangechecked:function(){for(var e=0;e<this.equipmentlistz.length;e++)this.equipmentlistz[e].checked=!1;this.dischecked=!0,this.allchecked=!1},allcancel:function(){this.showequipment=!this.showequipment}}},d=u,p=(c("ebde"),c("2877")),h=Object(p["a"])(d,n,a,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-f64bf526.e1eb1403.js.map